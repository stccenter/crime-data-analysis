<!DOCTYPE html>
<head>    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.5.1/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.5.1/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://rawcdn.githack.com/python-visualization/folium/master/folium/templates/leaflet.awesome.rotate.css"/>
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_dfce12edae9045eb9131220dbf58ffe6 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
    <script src="https://rawcdn.githack.com/nezasa/iso8601-js-period/master/iso8601.min.js"></script>
    <script src="https://rawcdn.githack.com/socib/Leaflet.TimeDimension/master/dist/leaflet.timedimension.min.js"></script>
    <script src="https://rawcdn.githack.com/python-visualization/folium/master/folium/templates/pa7_hm.min.js"></script>
    <script src="https://rawcdn.githack.com/pa7/heatmap.js/develop/plugins/leaflet-heatmap/leaflet-heatmap.js"></script>
    <link rel="stylesheet" href="http://apps.socib.es/Leaflet.TimeDimension/dist/leaflet.timedimension.control.min.css"/>
    
            <script>
                var TDHeatmap = L.TimeDimension.Layer.extend({

            initialize: function(data, options) {
                var heatmapCfg = {
                    radius: 15,
                    maxOpacity: 1.,
                    scaleRadius: false,
                    useLocalExtrema: false,
                    latField: 'lat',
                    lngField: 'lng',
                    valueField: 'count',
                    defaultWeight : 1,
                };
                heatmapCfg = $.extend({}, heatmapCfg, options.heatmapOptions || {});
                var layer = new HeatmapOverlay(heatmapCfg);
                L.TimeDimension.Layer.prototype.initialize.call(this, layer, options);
                this._currentLoadedTime = 0;
                this._currentTimeData = {
                    data: []
                    };
                this.data= data;
                this.defaultWeight = heatmapCfg.defaultWeight || 1;
            },
            onAdd: function(map) {
                L.TimeDimension.Layer.prototype.onAdd.call(this, map);
                map.addLayer(this._baseLayer);
                if (this._timeDimension) {
                    this._getDataForTime(this._timeDimension.getCurrentTime());
                }
            },
            _onNewTimeLoading: function(ev) {
                this._getDataForTime(ev.time);
                return;
            },
            isReady: function(time) {
                return (this._currentLoadedTime == time);
            },
            _update: function() {
                this._baseLayer.setData(this._currentTimeData);
                return true;
            },
            _getDataForTime: function(time) {
                    delete this._currentTimeData.data;
                    this._currentTimeData.data = [];
                    var data = this.data[time-1];
                    for (var i = 0; i < data.length; i++) {
                        this._currentTimeData.data.push({
                                lat: data[i][0],
                                lng: data[i][1],
                                count: data[i].length>2 ? data[i][2] : this.defaultWeight
                            });
                        }
                    this._currentLoadedTime = time;
                    if (this._timeDimension && time == this._timeDimension.getCurrentTime() && !this._timeDimension.isLoading()) {
                        this._update();
                    }
                    this.fire('timeload', {
                        time: time
                    });
                }
        });

        L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
            initialize: function(index, options) {
                var playerOptions = {
                    buffer: 1,
                    minBufferReady: -1
                    };
                options.playerOptions = $.extend({}, playerOptions, options.playerOptions || {});
                L.Control.TimeDimension.prototype.initialize.call(this, options);
                this.index = index;
                },
            _getDisplayDateFormat: function(date){
                return this.index[date.getTime()-1];
                }
            });
            </script>
                
</head>
<body>    
    
            <div class="folium-map" id="map_dfce12edae9045eb9131220dbf58ffe6" ></div>
        
</body>
<script>    
    
            var map_dfce12edae9045eb9131220dbf58ffe6 = L.map(
                "map_dfce12edae9045eb9131220dbf58ffe6",
                {
                    center: [38.9, -77.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 11,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_dfce12edae9045eb9131220dbf58ffe6);

            

        
    
            var tile_layer_a03b9bf8b2c64d83829ff487b3bb1c93 = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_dfce12edae9045eb9131220dbf58ffe6);
        
    

            var times = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32];

            map_dfce12edae9045eb9131220dbf58ffe6.timeDimension = L.timeDimension(
                {times : times, currentTime: new Date(1)}
            );

            var heat_map_10b1aa29685a445d80ff05dc66835cbcControl = new L.Control.TimeDimensionCustom(['05/15/20', '05/16/20', '05/17/20', '05/18/20', '05/19/20', '05/20/20', '05/21/20', '05/22/20', '05/23/20', '05/24/20', '05/25/20', '05/26/20', '05/27/20', '05/28/20', '05/29/20', '05/30/20', '05/31/20', '06/01/20', '06/02/20', '06/03/20', '06/04/20', '06/05/20', '06/06/20', '06/07/20', '06/08/20', '06/09/20', '06/10/20', '06/11/20', '06/12/20', '06/13/20', '06/14/20', '06/15/20'], {
                autoPlay: true,
                backwardButton: true,
                displayDate: true,
                forwardButton: true,
                limitMinimumRange: 5,
                limitSliders: true,
                loopButton: true,
                maxSpeed: 10,
                minSpeed: 0.1,
                playButton: true,
                playReverseButton: true,
                position: "bottomleft",
                speedSlider: true,
                speedStep: 0.1,
                styleNS: "leaflet-control-timecontrol",
                timeSlider: true,
                timeSliderDrapUpdate: false,
                timeSteps: 1
                })
                .addTo(map_dfce12edae9045eb9131220dbf58ffe6);

                var heat_map_10b1aa29685a445d80ff05dc66835cbc = new TDHeatmap([[[38.904833923515326, -76.93291515900422]], [[38.90422848498224, -77.02407603566526]], [[38.87655227798104, -77.00341502829775], [38.865539770976426, -76.95008775077298]], [[38.9341014470451, -77.04120389345725], [38.879270082749095, -77.02622636082872]], [[38.91932174978746, -76.98232555621412], [38.90041649290379, -76.99357373499944], [38.8627814888528, -76.99214738783489]], [[38.91541900994042, -77.02039087983798]], [[38.84786686340711, -76.99892105394925], [38.91439972860479, -77.04649128813598], [38.850084086344616, -76.96742923789073]], [[38.844356536215024, -76.99475228166261], [38.945229290493415, -77.0330174626005], [38.90947251064213, -77.04514247227698], [38.85998898556032, -76.98789271286729]], [[38.952451683093074, -77.01371972310065], [38.898727725544454, -76.95010254645018]], [[38.90578588620454, -77.07146954531771], [38.96327611476335, -77.07497131874551]], [[38.93311278774075, -76.96801710126131], [38.83589644787122, -77.00577689573498], [38.90020887316214, -76.98181048826399], [38.85474850882224, -76.96557985312106]], [[38.9341014470451, -77.04120389345725], [38.96059416625649, -77.00269667975735]], [[38.902865601192644, -76.94855679615797], [38.93914017311258, -77.04412733998342], [38.92994926404786, -77.02346352196972], [38.894640230059, -77.00134853692788], [38.913973089733155, -77.06705394064404]], [[38.927878951591076, -77.02620494829219], [38.9036819823225, -77.04658337504107]], [[38.90139302202749, -76.99367564586495], [38.93590854874039, -77.02859803273594], [38.90897915182123, -77.03223408992972], [38.917040866295366, -77.04716745626516], [38.909803428179494, -77.03873568076581], [38.90849640039203, -77.01624355177208]], [[38.89805199992753, -77.02850070643635], [38.901788400906035, -77.02230103175262], [38.89973644055824, -77.02302349652824], [38.66081667908898, -87.18589195584161], [38.900106823490965, -77.01688255044486], [38.898635212750456, -77.02219072590684], [38.89815698326478, -77.0398265854641], [38.900267342327155, -77.04175723652237], [38.90499825072706, -77.06131619264433], [38.904886729505336, -77.05937452477373], [38.90523113355265, -77.03178126868944], [38.913973089733155, -77.06705394064404], [38.90026578538693, -77.03369873015558], [38.89839302180712, -77.03188565567334], [38.902132561850436, -77.02864973667481], [38.66326590819135, -87.19205120044008], [38.901147227222616, -77.0370536842556], [38.897073748007934, -77.02432853031173], [38.95910712255836, -77.08430820388756], [38.959424504525686, -77.08561952090153], [38.90039368128735, -77.02696628617136], [38.905022139151136, -77.06302568179696], [38.897574650541685, -77.02775396268244], [38.89739792408838, -77.02814661407285], [38.9012564133041, -77.02815355812372], [38.90894943797447, -77.06430333529798], [38.897062935352814, -77.03015579703737], [38.899693230016034, -77.0152494135843], [38.90398165160045, -77.03338693689247], [38.66123367868384, -87.1889994596398], [38.907881170319, -77.0653791719598], [38.89482626639997, -77.02894830006592], [38.909803428179494, -77.03873568076581], [38.90217484855194, -77.03241111572478], [38.90000116960147, -77.04426790449968], [38.9022402273967, -77.03694865900881], [38.85474850882224, -76.96557985312106], [38.87655227798104, -77.00341502829775]], [[38.66123367868384, -87.1889994596398], [38.90268783694128, -77.0346466870943], [38.905251258474436, -77.06852412646101], [38.960697514896346, -77.08574080217893], [38.90403512814271, -77.03498888622738], [38.90601912462432, -77.06258194384286], [38.90026578538693, -77.03369873015558], [38.90045601357728, -76.99472834216185], [38.92042501779292, -76.99544222885531], [38.91026346893528, -77.03221221316244], [38.900513513433054, -77.03697137396641], [38.88501140374209, -77.0151139243338], [38.89547733072911, -77.00308694364647], [38.94352793178686, -77.07783457687023], [38.8989675971209, -77.03243165138755], [38.901788400906035, -77.02230103175262], [38.896056411693735, -77.0230335509969], [38.90244643277349, -77.01998355069449], [38.897082381368186, -77.02012517350731], [38.88383049033372, -76.99608332015521], [41.45437880703632, -96.35090244376256], [38.87695906631507, -77.00394441234131], [38.88568190340217, -76.9977083601978], [38.88988364391085, -77.00194631608697], [38.88280275618056, -76.99018262113186], [38.91268365956489, -77.0384063139738], [38.901185364882075, -77.04374596338894], [38.89643517271449, -77.02550425987016], [38.903441396031276, -77.05367231604349], [38.89271839396114, -76.94728532868189], [38.860326520567924, -76.96685407169483], [38.90041175712849, -76.99738959642005], [38.90283659980764, -77.05184237894223], [38.90536831175229, -77.06304554690749], [38.90218352382172, -77.03983547028145], [38.90036284872349, -77.0457780719948], [38.90499825072706, -77.06131619264433], [38.9335736889855, -77.06515629808383], [38.903415328312406, -77.0457871244502], [38.90991658387236, -77.02432945232108], [38.90288986680233, -77.03689291935271], [38.91388608557817, -77.02617221373421], [38.94415640688696, -77.02639626200609], [38.97472464214079, -77.01403057286234], [38.90359319229776, -77.04201007124131], [38.9069809061042, -77.06332340699775], [38.93574131137493, -77.05894696389277], [38.908809585919975, -77.02415879677244], [38.92939834805641, -76.97600786433371], [38.909506289711906, -77.04699076574622], [38.90917499498892, -77.05938173321047], [38.8798101706802, -76.99469657474882], [38.91686375668127, -77.03482937860993], [38.93351113403763, -77.05739282052026], [38.869900665651016, -76.96019791856419], [38.905337675896156, -77.04223965156928], [38.90850917851017, -77.03227792728333], [38.900106823490965, -77.01688255044486], [38.900267342327155, -77.04175723652237], [38.88428313140025, -76.98057114006045], [38.66068838107977, -87.18898365748743], [38.92014091318482, -77.0717652407809], [38.907540859145826, -77.04270283553875], [38.916695657613076, -77.02630448016632], [38.93260358783073, -77.08561675487347], [38.94352793178686, -77.07783457687023], [38.90408013896274, -77.04064021680534], [38.94412828560181, -77.06440727089736], [38.95495045415822, -77.07020830226607], [38.912766682409114, -77.04558914389722], [38.89871102706468, -77.0542351608417], [38.92216719636796, -77.04286720466004], [38.93370320970831, -76.99123853677477], [38.867577705004976, -76.98805961617643], [38.90531502318457, -77.05803773232317], [38.916370207403496, -76.98324751647226], [38.97453001145245, -77.01789942114883], [38.86743931978357, -76.98883276292536], [38.905602748193715, -77.04484260430053], [38.953767893348726, -77.08178580602714], [38.909503020769684, -77.04450276542664], [38.9275913391496, -77.03258284546412], [38.92494244450933, -77.10171503811223], [38.903590551998256, -77.03875110346766], [38.909464464015095, -77.00645604962784], [38.902196976776345, -77.03493809189412], [38.934831707242324, -77.072892606758], [38.94428581407913, -77.09503284409655], [38.89717458230311, -77.0262054060708], [38.9127759025026, -77.0220939987442], [38.904886729505336, -77.05937452477373], [38.90217484855194, -77.03241111572478], [38.928834456699796, -77.10585154911855], [38.905022139151136, -77.06302568179696], [38.90958614218295, -77.03202329179966], [38.92465745980138, -77.03923532601411], [38.908772742065146, -77.0318926477135], [38.947957353910276, -77.07880717639556], [38.92990025641856, -77.05556771580855], [38.91439972860479, -77.04649128813598], [38.90653885377913, -77.0487525944938], [38.90218352382172, -77.03983547028145], [38.94853657993886, -77.0805524927939], [38.90287490510517, -77.03983127932987], [38.94889079916706, -77.07986660165706], [38.900382630014974, -76.99002953106073], [38.89581897710255, -77.02052113461332], [38.90481358061047, -77.04052916407254], [38.899966929526975, -77.02214831347678], [38.901407024311574, -77.02053119289714], [38.90731366199654, -77.02801628000603], [38.90673275447032, -77.02535720476929], [38.90840004613082, -77.0638699070848], [38.9069809061042, -77.06332340699775], [38.90911686649039, -77.06339364734636], [38.905230219897454, -77.04530918833116], [38.924309065995885, -77.02273957292677], [38.902251333418405, -77.02629718791057], [38.91705734212547, -77.02967723766594], [38.909454959444034, -77.05467756877563], [38.90609011934421, -77.00630157115229], [38.90797189851661, -77.0638709967322], [38.959424504525686, -77.08561952090153], [38.89958597202767, -77.0365778436123], [38.969849461948044, -77.02720605481944], [38.88193811543131, -76.93640996878644], [38.904698891055176, -77.05724594046234], [38.90000116960147, -77.04426790449968]], [[38.917129463011925, -77.04190077122391], [38.883875817992475, -77.01762290290857], [38.88241854083623, -76.99014810478933], [38.8798101706802, -76.99469657474882], [38.89694102057112, -77.05458309364253], [38.90257782797105, -77.01898673237753], [38.9006661897994, -77.02548079054127], [47.22754726689464, -119.84871827352168], [38.90026864279622, -77.00915593044711], [38.90244643277349, -77.01998355069449], [38.91435999838373, -77.04190328579485], [38.905022139151136, -77.06302568179696], [38.898989168883354, -76.97617543706323], [38.88988364391085, -76.99608627611994], [38.90787823074865, -77.00366177456623], [38.95647913138217, -77.01454617870539], [38.942891348080934, -77.00134200611849], [38.924309065995885, -77.02273957292677], [38.90208000731752, -76.98239235998243], [38.9058947371812, -77.01956249634716], [38.91088465177961, -77.03725552048407], [38.8934120297867, -76.95077800049948], [38.89910200093831, -76.97098961890255], [38.90653885377913, -77.0487525944938], [38.93574131137493, -77.05894696389277], [38.866940538795404, -76.94978643382343], [38.89299313575585, -76.95066835217489], [38.867577705004976, -76.98805961617643], [38.900382630014974, -76.99002953106073], [38.92744360441688, -77.00619218731588], [38.88383049033372, -76.99608332015521], [38.88988364391085, -77.00194631608697], [38.91803642123136, -77.02478354753926], [38.92465745980138, -77.03923532601411], [38.87565953604675, -77.00487958127859], [38.91562775250667, -77.0240268414797], [38.96327611476335, -77.07497131874551], [38.901185364882075, -77.04374596338894], [38.90537673556497, -77.03899979453487], [38.91686375668127, -77.03482937860993], [38.90531502318457, -77.05803773232317], [38.94415640688696, -77.02639626200609], [38.92736502407462, -76.98047365852653], [38.916752732983326, -76.99369262690561], [38.92143247778374, -76.98876015254542], [38.91677935091629, -77.02994675237217], [38.9226997930606, -77.04272834435024], [38.89717458230311, -77.0262054060708], [38.907540859145826, -77.04270283553875], [38.8842836466874, -77.02578629853905], [38.903590551998256, -77.03875110346766], [38.90048182983904, -76.98807202139314], [38.90499825072706, -77.06131619264433], [38.941758805393135, -77.02352956730104], [38.92042501779292, -76.99544222885531], [38.904886729505336, -77.05937452477373], [38.916695657613076, -77.02630448016632], [38.90287490510517, -77.03983127932987], [38.911783527076146, -77.03885746981895], [38.918266677725256, -77.03225655343023]], [[38.901246438849675, -77.01624354425333], [38.861126489406985, -76.96452943466817], [38.92580305641786, -76.971692944398], [38.94415640688696, -77.02639626200609], [38.8705831621171, -76.96279194995891], [38.9332457673425, -77.068898881352], [38.933557328073896, -77.06093721028262], [38.89939248454544, -76.94789919804711], [38.860326520567924, -76.96685407169483], [38.89271839396114, -76.94728532868189], [38.900382630014974, -76.99002953106073], [38.904886729505336, -77.05937452477373], [38.91994083715599, -77.04199674401525], [38.92042501779292, -76.99544222885531]], [[38.65530998849093, -87.16753996311104], [38.92216719636796, -77.04286720466004], [38.88033068686738, -76.98468380467253], [38.87848809309233, -76.93118681056944], [38.90041175712849, -76.99738959642005], [38.91994083715599, -77.04199674401525]], [[38.882147464380665, -76.92655446796051], [38.8670321688368, -76.98199941636156], [38.89083974943071, -76.95524446524458]], [[38.90875426535902, -77.02372017177927], [38.905251258474436, -77.06852412646101], [38.960697514896346, -77.08574080217893], [38.90403512814271, -77.03498888622738]], [[38.850477239513054, -76.97525022410565], [38.90787823074865, -77.00366177456623], [38.83020954617774, -76.99298096680688]], [[38.88522177882734, -76.98613831633057], [38.90481358061047, -77.04052916407254]], [[38.92372652372518, -77.05201529760473]], [[38.84458522431091, -76.98855823276094], [38.92275568978988, -76.96766602665542]], [[38.9293082425973, -77.03298603046359], [38.8901036087843, -76.98346574650307], [38.90601912462432, -77.06258194384286], [38.909687344210866, -77.00915724904503]], [[38.912766682409114, -77.04558914389722], [38.88598231395947, -76.99257309164557], [38.83218697684736, -77.0071675847539], [41.54695733130102, -96.14095265724009], [38.89844367140135, -76.94649632967145], [38.96833512355603, -77.02960770321783]], [[38.932916149000135, -77.04558889244012], [38.95555141232268, -77.00048732953162], [38.96275748394853, -77.01087075604788], [38.92718153772042, -77.04196177930265], [38.956302999964116, -77.08386082997724]], [[38.91773169765784, -77.06947729908832], [38.86250950343091, -76.990183338984]], [[38.90568614183826, -76.97723837729684], [38.945229290493415, -77.0330174626005], [38.9254963911335, -76.97906354240254]], [[38.96207415715489, -77.01038904690998], [38.652273632060286, -87.16982177788437], [38.90771440787722, -77.06115704399645], [38.902205107222414, -77.01644694293684], [38.90158354719245, -77.03482946242895], [38.86749644731271, -76.98514346338365]]],
                {heatmapOptions: {
                        radius: 8,
                        minOpacity: 0,
                        maxOpacity: 0.6,
                        scaleRadius: false,
                        useLocalExtrema: false,
                        defaultWeight: 1,
                        
                    }
                })
                .addTo(map_dfce12edae9045eb9131220dbf58ffe6);

        
</script>